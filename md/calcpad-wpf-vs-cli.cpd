#md on
'Calcpad WPF vs CLI - ComparaciÃ³n TÃ©cnica
'---
'
'## ğŸ“‹ IntroducciÃ³n
'
'Este documento compara las arquitecturas, flujos de procesamiento y diferencias clave entre **Calcpad WPF** (aplicaciÃ³n de escritorio) y **Calcpad CLI** (interfaz de lÃ­nea de comandos).
'
'---
'
'## ğŸ—ï¸ Arquitectura General
'
'### Calcpad WPF
'- **Interfaz grÃ¡fica** usando Windows Presentation Foundation (WPF)
'- **Editor interactivo** con RichTextBox y syntax highlighting en tiempo real
'- **VisualizaciÃ³n HTML** integrada usando WebView2
'- **EjecuciÃ³n asÃ­ncrona** con UI responsiva
'- **Target Framework**: .NET 10.0-windows
'
'### Calcpad CLI
'- **Interfaz de consola** sin UI grÃ¡fica
'- **Procesamiento batch** de archivos .cpd
'- **Salida a archivos** HTML, PDF, DOCX
'- **EjecuciÃ³n sÃ­ncrona** simple y directa
'- **Target Framework**: .NET 10.0 (multiplataforma)
'
'---
'
'## ğŸ“Š Tabla Comparativa Detallada
'
'| Aspecto | Calcpad WPF | Calcpad CLI | Â¿Son Iguales? |
'|---------|-------------|-------------|---------------|
'| **Motor de CÃ¡lculo** | Calcpad.Core | Calcpad.Core | âœ… IDÃ‰NTICO |
'| **Parser de Macros** | MacroParser | MacroParser | âœ… IDÃ‰NTICO |
'| **Soporte Multi-lenguaje** | MultLangProcessor | MultLangProcessor | âœ… IDÃ‰NTICO |
'| **GeneraciÃ³n HTML** | HtmlWriter | HtmlWriter | âœ… IDÃ‰NTICO |
'| **Syntax Highlighting** | HighLighter.cs (WPF) | No aplica | âŒ Solo WPF |
'| **TransformaciÃ³n Operadores** | SÃ­ (de << a âˆ ) | No | âŒ DIFERENTE |
'| **ReversiÃ³n Operadores** | SÃ­ (RevertCalcpadOperators) | No necesita | âŒ Solo WPF |
'| **Entrada Usuario** | RichTextBox interactivo | Archivo .cpd | âŒ DIFERENTE |
'| **Salida** | WebView2 (HTML en pantalla) | Archivos (HTML/PDF/DOCX) | âŒ DIFERENTE |
'| **EjecuciÃ³n AsÃ­ncrona** | SÃ­ (Dispatcher.InvokeAsync) | No | âŒ Solo WPF |
'| **AutoRun** | SÃ­ (configurable) | No aplica | âŒ Solo WPF |
'| **Undo/Redo** | SÃ­ | No aplica | âŒ Solo WPF |
'| **Recent Files** | SÃ­ | No aplica | âŒ Solo WPF |
'| **Settings Persistence** | SÃ­ (Settings.settings) | No | âŒ Solo WPF |
'
'---
'
'## ğŸ”„ Flujo de Procesamiento WPF
'
'1. Usuario escribe cÃ³digo
'2. HighLighter transforma operadores en tiempo real
'   - De menor-que menor-que  a sÃ­mbolo Ã¡ngulo
'   - De igual-igual a sÃ­mbolo equivalente
'   - De exclamaciÃ³n-igual a sÃ­mbolo no-igual
'   - De ampersand-ampersand a sÃ­mbolo AND lÃ³gico
'   - De pipe-pipe a sÃ­mbolo OR lÃ³gico
'3. Usuario guarda o ejecuta (AutoRun o Manual)
'4. GetInputText() extrae texto del RichTextBox
'5. Si hay bloques multi-lenguaje (como cpp, python, etc):
'   - RevertCalcpadOperators() revierte transformaciones
'6. MultLangProcessor ejecuta cÃ³digo externo
'7. MacroParser procesa macros
'8. Calculator evalÃºa expresiones
'9. HtmlWriter genera salida
'10. WebView2 muestra resultado
'
'---
'
'## ğŸ”„ Flujo de Procesamiento CLI
'
'1. Usuario ejecuta: calcpad input.cpd output.html
'2. CLI lee archivo input.cpd
'3. MultLangProcessor (si hay bloques externos)
'4. MacroParser procesa macros
'5. Calculator evalÃºa expresiones
'6. HtmlWriter genera salida
'7. CLI guarda resultado en output.html
'
'---
'
'## âš ï¸ Diferencias CrÃ­ticas
'
'### 1. TransformaciÃ³n de Operadores
'
'**WPF**: Transforma para visualizaciÃ³n Unicode
'- Problema: Causaba errores al compilar C++
'- SoluciÃ³n: RevertCalcpadOperators() antes de compilar
'
'**CLI**: No transforma
'- Lee archivo original
'- EnvÃ­a cÃ³digo sin modificar al compilador
'
'### 2. Rendimiento
'
'**WPF Antes**: 3700ms para mostrar cÃ³digo
'**WPF Ahora**: 100ms (37x mÃ¡s rÃ¡pido)
'- SoluciÃ³n: Dispatcher.InvokeAsync() con prioridad Background
'
'**CLI**: No aplica (sin UI)
'
'---
'
'## ğŸ”§ Componentes Compartidos
'
'Ambas versiones comparten (100% sincronizados):
'
'### Calcpad.Core
'- **Calculator.cs**: Motor de cÃ¡lculo
'- **ExpressionParser.cs**: Parser
'- **MacroParser.cs**: Macros
'- **HtmlWriter.cs**: Generador HTML
'
'### Calcpad.Common
'- **MultLangManager.cs**: Gestor lenguajes
'- **MultLangProcessor.cs**: Procesador multi-lenguaje
'- **LanguageExecutor.cs**: Ejecutor Python/C++/Octave
'- **MultLangConfig.json**: ConfiguraciÃ³n compartida
'
'---
'
'## ğŸ¯ Ejemplo PrÃ¡ctico de Uso CLI
'
'Sintaxis bÃ¡sica:
'
'    calcpad input.cpd output.html
'
'Con opciones:
'
'    calcpad input.cpd output.html -d 3 -u si -a deg
'
'Ejemplo real:
'
'    calcpad test_all_langs.cpd output.html
'
'---
'
'## ğŸ“ Demo con CÃ¡lculos
'
'Ahora un ejemplo con cÃ¡lculos reales de Calcpad:
#md off

'Ãrea de un cÃ­rculo:
r = 5'm
A = Ï€*r^2

'Volumen de una esfera:
V = 4/3*Ï€*r^3

'Teorema de PitÃ¡goras:
a = 3'm
b = 4'm
c = sqrt(a^2 + b^2)

#md on
'
'---
'
'## âœ… Conclusiones
'
'### Ventajas de WPF
'- âœ¨ EdiciÃ³n interactiva en tiempo real
'- ğŸ¨ Syntax highlighting visual
'- ğŸ‘ï¸ VisualizaciÃ³n inmediata
'- â†©ï¸ Undo/Redo, bÃºsqueda, reemplazo
'
'### Ventajas de CLI
'- ğŸ¤– AutomatizaciÃ³n y scripting
'- ğŸ“¦ Procesamiento batch
'- ğŸŒ Multiplataforma
'- ğŸ”„ IntegraciÃ³n CI/CD
'
'### âš¡ Ambos Comparten
'- Mismo motor de cÃ¡lculo (resultados idÃ©nticos)
'- Mismo soporte multi-lenguaje
'- Misma configuraciÃ³n sincronizada
'- Misma salida HTML
'
'---
'
'## ğŸ› Problemas Resueltos (WPF)
'
'1. **Error C++ CompilaciÃ³n**
'   - âŒ Antes: cout con sÃ­mbolo Ã¡ngulo (transformaciÃ³n incorrecta)
'   - âœ… Ahora: cout con operador correcto (revertido correctamente)
'
'2. **Lentitud al Abrir**
'   - âŒ Antes: 3700ms
'   - âœ… Ahora: 100ms (37x mÃ¡s rÃ¡pido)
'
'3. **Config No Se Guarda**
'   - âŒ Settings.Default.Save() falla en .NET 10
'   - â³ Pendiente de soluciÃ³n
'
'---
'
'**Fecha**: 2026-01-15
'**VersiÃ³n**: Calcpad 7.5.8
'**Autor**: AnÃ¡lisis tÃ©cnico de arquitectura
#md off
